<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Word Snap Selector</title>
<link rel="stylesheet" href="popup.css" />
</head>
<body>
<div class="container">
  <div class="header">
    <h1>
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 8H17M7 12H17M7 16H13M3 20H21C21.5523 20 22 19.5523 22 19V5C22 4.44772 21.5523 4 21 4H3C2.44772 4 2 4.44772 2 5V19C2 19.5523 2.44772 20 3 20Z" stroke="#4361ee" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Word Snap Selector
    </h1>
  </div>

  <div class="card">
    <div class="card-header"><h2>Extension Settings</h2></div>

    <div class="setting">
      <div class="toggle-container">
        <label class="switch">
          <input type="checkbox" id="toggleEnabled">
          <span class="slider"></span>
        </label>
        <span class="toggle-label">Enable Extension</span>
      </div>
    </div>

    <div class="setting">
      <label for="wordChars">Word Characters (regex fragment):</label>
      <input type="text" id="wordChars" placeholder="\\w\\-" />
      <p class="help">Characters considered part of words (character class content, no brackets).</p>
    </div>

    <div class="setting">
      <label for="colorPicker">Selection Highlight Color:</label>
      <input type="color" id="colorPicker" value="#ffeb3b" />
      <p class="help">Color used for injected highlight spans.</p>
    </div>

    <div class="setting">
      <label for="separator">Copy Separator:</label>
      <select id="separator">
        <option value="\\n">Newline</option>
        <option value=" ">Space</option>
        <option value=" • ">Bullet ( • )</option>
      </select>
      <p class="help">Separator used when copying multiple selections.</p>
    </div>

    <div class="setting">
      <div class="toggle-container">
        <label class="switch">
          <input type="checkbox" id="altDragEnabled">
          <span class="slider"></span>
        </label>
        <span class="toggle-label">Enable Alt+Drag Link Copy</span>
      </div>
    </div>

    <div class="setting">
      <div class="toggle-container">
        <label class="switch">
          <input type="checkbox" id="multiSelectEnabled">
          <span class="slider"></span>
        </label>
        <span class="toggle-label">Enable Multi-Selection Mode (Ctrl)</span>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header"><h2>Chat Enter Behavior</h2></div>

    <div class="setting">
      <div class="toggle-container">
        <label class="switch">
          <input type="checkbox" id="enterEnabled">
          <span class="slider"></span>
        </label>
        <span class="toggle-label">Enable Enter Override (global)</span>
      </div>
      <p class="help">Enter = new line, Shift+Enter = send.</p>
    </div>

    <div class="setting">
      <label for="enterMode">Global Mode:</label>
      <select id="enterMode">
        <option value="auto">Auto (smart detection)</option>
        <option value="force">Force ON (everywhere)</option>
      </select>
      <p class="help">Auto: Only override on sites that map Enter to send. Force: Apply override on all pages (except code editors).</p>
    </div>

    <div class="setting">
      <label>Current Site:</label>
      <div class="small">Domain: <span class="code" id="currentDomain">-</span></div>
      <label for="siteRule">Site rule:</label>
      <select id="siteRule">
        <option value="follow">Follow global</option>
        <option value="on">Force ON for this site</option>
        <option value="off">Force OFF for this site</option>
      </select>
    </div>

    <div class="setting">
      <label>Current Page:</label>
      <div class="small">URL (no hash): <span class="code" id="currentPage">-</span></div>
      <label for="pageRule">Page rule:</label>
      <select id="pageRule">
        <option value="follow">Follow site/global</option>
        <option value="on">Force ON for this page</option>
        <option value="off">Force OFF for this page</option>
      </select>
    </div>

    <div class="actions">
      <button id="saveBtn">Save Settings</button>
    </div>

    <div class="footer"><p>Version 3.2</p></div>
  </div>
</div>

<script src="popup.js"></script>
</body>
</html>